apply plugin: 'com.android.application'
apply plugin: 'com.neenbedankt.android-apt'
apply plugin: 'me.tatarka.retrolambda'

android {
    compileSdkVersion rootProject.ext.androidCompileSdkVersion
    buildToolsVersion rootProject.ext.androidBuildToolsVersion

    defaultConfig {
        applicationId "kz.kamadi.yandextranslate"
        minSdkVersion rootProject.ext.androidMinSdkVersion
        targetSdkVersion rootProject.ext.androidTargetSdkVersion
        versionCode rootProject.ext.appVersionCode
        versionName rootProject.ext.appVersionName
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    compileOptions {
        incremental false
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            buildConfigField "String", "TRANSLATE_API_URL", "\"https://translate.yandex.net\""
            buildConfigField "String", "TRANSLATE_API_KEY", "\"trnsl.1.1.20170315T115814Z.125d20b28d8f7e10.498c94fcfd0c36db350cf12e929532383ad2bd18\""
            buildConfigField "String", "DICTIONARY_API_URL", "\"https://dictionary.yandex.net\""
            buildConfigField "String", "DICTIONARY_API_KEY", "\"dict.1.1.20170327T142201Z.594cbe2ffd41eaa1.2a473dabfec573b4b95171a6317f4be10068b2bf\""
        }

        debug {
            buildConfigField "String", "TRANSLATE_API_URL", "\"https://translate.yandex.net\""
            buildConfigField "String", "TRANSLATE_API_KEY", "\"trnsl.1.1.20170315T115814Z.125d20b28d8f7e10.498c94fcfd0c36db350cf12e929532383ad2bd18\""
            buildConfigField "String", "DICTIONARY_API_URL", "\"https://dictionary.yandex.net\""
            buildConfigField "String", "DICTIONARY_API_KEY", "\"dict.1.1.20170327T142201Z.594cbe2ffd41eaa1.2a473dabfec573b4b95171a6317f4be10068b2bf\""
        }
    }
    packagingOptions {
        exclude 'META-INF/maven/com.google.guava/guava/pom.properties'
        exclude 'META-INF/maven/com.google.guava/guava/pom.xml'
    }
    lintOptions {
        abortOnError false
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
}

dependencies {
    def presentationDependencies = rootProject.ext.presentationDependencies
    def presentationTestDependencies = rootProject.ext.presentationTestDependencies

    compile project(':domain')
    compile project(':data')

    apt presentationDependencies.daggerCompiler
    apt presentationDependencies.buuterKnifeCompiler

    compile presentationDependencies.androidPercent
    compile presentationDependencies.androidDesign
    compile presentationDependencies.androidSupportv4
    compile presentationDependencies.androidCompatv7
    compile presentationDependencies.dagger
    compile presentationDependencies.butterKnife
    compile presentationDependencies.javaxAnnotation
    compile presentationDependencies.rxJava
    compile presentationDependencies.rxAndroid

    testCompile presentationTestDependencies.junit
    testCompile presentationTestDependencies.mockito


    androidTestApt presentationTestDependencies.daggerCompiler

    androidTestCompile presentationTestDependencies.androidAnnotations
    androidTestCompile presentationTestDependencies.mockito
    androidTestCompile presentationTestDependencies.dexmaker
    androidTestCompile presentationTestDependencies.dexmakerDx
    androidTestCompile presentationTestDependencies.dexmakerParent
    androidTestCompile presentationTestDependencies.dexmakerMockito
    androidTestCompile presentationTestDependencies.espresso
    androidTestCompile presentationTestDependencies.espressoIntents
    androidTestCompile presentationTestDependencies.espressoWeb
}
